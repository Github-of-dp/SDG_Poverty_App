<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BetterLife AI // Neural Architect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #ccff00; --bg: #050505; --red: #ff0055; }
        body { background: var(--bg); color: #fff; font-family: 'Space Grotesk', sans-serif; }
        
        .glow-card { 
            background: rgba(15, 15, 15, 0.8); backdrop-filter: blur(10px); 
            border: 1px solid rgba(255,255,255,0.05); border-radius: 24px; padding: 30px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); transition: 0.4s;
        }
        .glow-card:hover { border-color: var(--neon); box-shadow: 0 0 40px rgba(204, 255, 0, 0.15); }
        
        input { background: #111; border: 1px solid #222; color: var(--neon); padding: 14px; border-radius: 12px; width: 100%; outline: none; }
        input:focus { border-color: var(--neon); box-shadow: 0 0 15px rgba(204, 255, 0, 0.2); }

        .status-pill { padding: 4px 12px; border-radius: 20px; font-size: 10px; font-weight: 900; text-transform: uppercase; }
        .risk-bar { height: 8px; background: #1a1a1a; border-radius: 10px; overflow: hidden; }
        .risk-fill { height: 100%; background: var(--neon); transition: 1s cubic-bezier(0.2, 0.8, 0.2, 1); }
    </style>
</head>
<body class="p-8 md:p-16">

    <div class="max-w-6xl mx-auto">
        <header class="flex justify-between items-center mb-16">
            <div>
                <h1 class="text-5xl font-black uppercase tracking-tighter italic">Neural <span style="color:var(--neon)">Architect</span></h1>
                <p class="text-gray-500 text-[10px] font-bold tracking-[0.3em] uppercase mt-2">SDG 1.2 Logistic Regression Engine</p>
            </div>
            <div id="status-pill" class="status-pill bg-white/5 text-gray-500">System Ready</div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <div class="lg:col-span-4 space-y-6">
                <div class="glow-card">
                    <h3 class="text-[10px] text-gray-400 font-bold uppercase mb-6 tracking-widest">Input Parameters</h3>
                    <div class="space-y-4">
                        <input type="number" id="income" value="10000" oninput="runPredict()" placeholder="Income">
                        <input type="number" id="edu" value="12" oninput="runPredict()" placeholder="Education (Yrs)">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="number" id="h_size" value="4" oninput="runPredict()">
                            <input type="number" id="workers" value="1" oninput="runPredict()">
                        </div>
                    </div>
                </div>

                <div class="glow-card border-dashed bg-transparent">
                    <h3 class="text-[10px] text-gray-500 font-bold uppercase mb-4">Model Coefficients</h3>
                    <div id="coef-log" class="font-mono text-[9px] text-gray-400 space-y-1"></div>
                </div>
            </div>

            <div class="lg:col-span-8 space-y-8">
                <div class="glow-card p-12 text-center relative overflow-hidden">
                    <div id="risk-val" class="text-[150px] font-black leading-none" style="color:var(--neon)">0%</div>
                    <div id="class-msg" class="text-xl font-bold uppercase tracking-widest mt-4">Analyzing Node...</div>
                    
                    <div class="risk-bar mt-12">
                        <div id="risk-fill" class="risk-fill"></div>
                    </div>
                </div>

                <div id="insight-box" class="glow-card border-[#ccff00]/20 bg-[#ccff00]/5">
                    <p class="text-gray-300 italic text-sm" id="ai-insight">Awaiting input data for classification...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function runPredict() {
            const data = {
                income: document.getElementById('income').value,
                education: document.getElementById('edu').value,
                h_size: document.getElementById('h_size').value,
                workers: document.getElementById('workers').value
            };

            const response = await fetch('/predict', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            const r = await response.json();

            // Update Interface
            const color = r.risk > 50 ? "#ff0055" : "#ccff00";
            document.getElementById('risk-val').innerText = r.risk + "%";
            document.getElementById('risk-val').style.color = color;
            document.getElementById('risk-fill').style.width = r.risk + "%";
            document.getElementById('risk-fill').style.backgroundColor = color;
            
            document.getElementById('class-msg').innerText = r.class;
            document.getElementById('ai-insight').innerText = r.insight;

            // Update Pill
            const pill = document.getElementById('status-pill');
            pill.innerText = r.class;
            pill.style.background = color + "22";
            pill.style.color = color;

            // Update Model Log
            document.getElementById('coef-log').innerHTML = `
                <div>W1 (Income): ${r.weights.Income}</div>
                <div>W2 (Edu): ${r.weights.Edu}</div>
                <div>W3 (Dep): ${r.weights.Dep}</div>
            `;
        }
        window.onload = runPredict;
    </script>
</body>
</html>