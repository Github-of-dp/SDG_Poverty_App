<!DOCTYPE html>
<html>
<head>
    <title>Poverty Risk Predictor</title>
    <style>
        body { font-family: Arial; background: #f4f6f8; padding: 30px; }
        .box { background: white; padding: 25px; max-width: 520px; margin: auto; border-radius: 12px; }
        h1 { text-align: center; }
        input, select, button {
            width: 100%; padding: 10px; margin: 8px 0;
            border-radius: 6px; border: 1px solid #ccc;
        }
        button { background: #2563eb; color: white; border: none; cursor: pointer; }
        .bar { height: 20px; border-radius: 10px; background: #ddd; margin-top: 15px; }
        .fill { height: 100%; border-radius: 10px; width: 0%; }
        .note { font-size: 13px; color: #555; margin-top: 10px; }
    </style>
</head>
<body>

<div class="box">
<h1>üåç Poverty Risk Predictor</h1>

<p class="note">
‚ö† Educational tool only. Results are estimates based on country-normalized data.
Income standards vary by region and cost of living.
</p>

<form id="form">
    <input type="number" name="income" placeholder="Annual Income" required>
    <input type="number" name="education" placeholder="Years of Education" required>

    <select name="employment">
        <option value="1">Employed</option>
        <option value="0">Unemployed</option>
    </select>

    <select name="country">
        <option>India</option>
        <option>USA</option>
        <option>UK</option>
        <option>UAE</option>
        <option>Nigeria</option>
        <option>Brazil</option>
    </select>

    <button type="submit">Check Risk</button>
</form>

<h3 id="result"></h3>
<div class="bar">
    <div id="fill" class="fill"></div>
</div>

<p id="comparison"></p>
<p id="help"></p>

<p class="note">
This model uses income normalization, education level, and employment status
to estimate relative poverty risk. It is **not** a financial or legal assessment.
</p>

</div>

<script>
document.getElementById("form").onsubmit = async (e) => {
    e.preventDefault();
    const res = await fetch("/predict", {
        method: "POST",
        body: new FormData(e.target)
    });
    const data = await res.json();

    document.getElementById("result").innerText =
        `Poverty Risk: ${data.risk}% (${data.level})`;

    const fill = document.getElementById("fill");
    fill.style.width = data.risk + "%";
    fill.style.background = data.color;

    document.getElementById("comparison").innerText =
        "Global comparison: " + data.comparison;

    document.getElementById("help").innerText =
        "Suggested support: " + data.help;
};
</script>

</body>
</html>
